(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{395:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcUAAABjCAMAAADdLevxAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQsKCBEPDRYQDhkWFSYcGCAdICUlHDcmHSYmJCw0KDUqJjsxLDk6NT0+QD0+aTVILjpLNThXJzxXND9hMC1eWDxBRDFaWCBdfD9hWUArJEs2L006M1Q9M3M+QHM+aUJIO0BeKkRaOV9AIVdFOklkK0dlOFFrOmhHJmBIPWtTM3NIOXZXN0ZIR0dNUElZRUBWUVdTS0tkR05mWk93XlVpSVdsVFdzR1p0U0d0ZlprZlF7YnBMQXdZRnRcUmhnWmB6S2R1WnZiS3hlWWtpZmd4Z2h3d3hqYXR6ZHF8dD0+jRxsmA9pqgxwtBZroxBuvhd3uyZ4mz10jTh7miZ4piJ4tT10sQ16zAB41BN7xxF/0iB9wnM+jXk/r0R4hUN/mFV9jFx+lEB9o3hIs2B9g3N0sX9nwnmCXmmCam2EeHOCa3SFeA6A1hmBzheE1y6AxiWM2i2Q2zuJyT2SzzeV3VmBiUqArEKDsG2DgGyIlHWIiGSNrHOSqnSdu0GPy0ySzkGa3lub0kad4Eyg4Vem42ql1nit2mOs5Wux5nK155E+QJE+aYViPodZRYVlSodnVoxyXZduXZd1WYlpYIxzZJJvYJh3ZJR7caBrWaV9WbZ0QKJ5ZKl7dLZ0af8AAJE+jYotpZF0sYV0x5qEXoSIaYqKdpeGcpqQdKCAWaiDa6mGdrWJabWMd7WQarqUdLa2adSSQMOZeOy2aYmIg4KPko2Tg4GRmpiNh5mZmYuho5WorJeot6CPiaqdgraMg7qVg7CbkLaSsamkj6Wgmr2hg7atlaW2vr6+voi334C86qOg2o/E7JLF7JHU/6DN76/V8rXS67DV8rrV+L/d9Lbs/8aahsuelNOcisWlisqnlMexm9mqjtOql9O0nMe2qNSsode2pti6seC6qdTUjdrGtv/UjebHuv/sscDAwN3d3cHd9drc4M7l99Dl9tTl+9jn+97s+tT//+rOwu7Rw/DTxv//z+bm5uLt9+Dv+unq9+z/5+z6/f//5/Ly8/D2/Pf5+f7+/nXfCA4AAAAJcEhZcwAADsMAAA7DAcdvqGQAAA7SSURBVHhe7Z0PdFtVGcAD5c82G+mYzIOgrLAWsLNn7JRWYGgZmQMUpiJ7q/84Kh62ZrHdokJFjVshCzqKA4NQxfmHabsy2fDPRNgUj87S0LqOyooddOi6riRQV1Za06Tx+777vZeXNHnvtc3KmnN/L3nv3vveu8m5v3z33ftez2aLSDJI7ETyenv7ECeZofb213ErLWYSatoTxxvt7cEwp4FwsL29n1LSYuagBj2hhNvb2/v6w9FYLBru74MMO5UWM8SoaM8TTT+o0xCBCNh4K5kuhN/ogyjs63tD17dKi9mAtJgNjLH46LjgkyRvL7bXkmA9FuGTJG8vNiWJRx9VbrIIHis5GZAWswFpMRuQFrMBaTEbkBZT4lJcTietYRFJHRViPx0QR3dQBdaQeM5YqHY60ak4uWyCSItjITvCj2hmALPw5pdWHD8AQeGU0I7Up+nl5De8FKfuZEgKrQnHOl0VsIUlgU9//Rt31tTc+dVPLucCaTE13LZxnBSA6iuBKgJTEFGiwUkBriEtCuGF8QZBym/4qRBVsIAygiISdlMo4ydqhTq+dVdNzdLrHI5VdzjKrvy4KJMWUwDNz+0Leqqr2VEiQh3tdyNwFPkYF3ByvPqEsNbDOok13/zj765YuOCChR+6dqmjrLT0gxSP0mIqhKRq1ZBbbWgCd1WBNhDnhi3ggYU8ArBb9c/HpwM+gM5Oqj4O1QXoLrhrn/rD0twZM86bNSs3d+G1oLHMcTMUS4spgKgQekDQegAToJS0QuwIt+uFO8/6DbWwbIAsHhVHjTMAz2TiCapl/QY6E0qFNwbysBt+JAiUVygr6Iut/dtTC3JyTsk57dyLzpt17vkfWXX77atXg0ZpMQXQnNDEoA8FAaxIAPJ4DxgA8ABEiPR4hFwLQDXi5A3wMyFf4E0NTzeUYXUcqMLi8qU1H8ixnXLmJVf5d/t/0Ni45Dc1lZWrVy3PnEW39uA5FuvjskniCexXlGDAw9n0eNrC4Tbzw6pagrFYsKWKs+nBUIQY0wTV1mJEqujVIV7vRq/XCwncgftxoZQIV5QOcgEsElCSaqETQZmqT/xIaDcs1A+AxQqy+K68c3JycmbV7e7oPtTd/eqxlx+7vbJmqeNzphbZiwYXEwkWm/d5Qj7xZVvNLFpr9eaQt9XnC3jDG7kgHd6wl1dGuFrCzW74tfmiLdplJjXQoVZDX0dt7N24cSM2NCrCDUPlII8TkBRHJYIuUW0cim0RxZTE87xarAt5tFMFaoD+1rVyJXyvG4rzZpw+I+f8xj2dr/Qc63lz4NhjZZU1Vy5adLOpRd4yBhablT5oJEqaWPQGaxWlNmjS6hCKiisadSkBONqIijB9bnXYUI4z2MZDPVdb0EQjxiJZFGGGgcbtyqrYHe2DrY/SYlcipISExcXEwR+BiGIIzrhDsZOh7lZYnJufezpcFBc/3dHZ2d0z8ObAwF/LV1VeMXfRokxZ7OvvV/rWi7SJRY9oRFfQMBqb3a6gSL3udvtEKjXeVrHdZ2g7sI8TQFuAE2lQY5Ek6aIM8xh/ZNEH7nAvJABIq4oJOgxhJzo1usNU9dT9kkKRB/h8jEV31Zo1YPGjZ509MyfHlnNJw54ODMaBgYH/lJaVXVZcUGjB4j++wmkgrUVPa6sStBaLbdzaG3TtOgZPKBDi42pDgX6uOSVu/jX4msU2JVX6SK0IG18bnThE5aEHkxQhLBR9UjRqOrC3FEkEI4vsJPWTieAhHg7FxGCENOyBEetKmBa+O6/gDJvNdur5/qaOzpe6Dx0b6Hm5tHBOwZx5BRYs3h39NmcMLGKPup+b08RijLfxRApaqb8N9Pe34LaWw80Qw1hsAcUhCm5cN1OtacEhv9ujNSeZgOYVOWxa3KghRTYxwwGF0BF0+eMCBHKaH0xTAe/DMSmParAU+2DeSaPUNWhxbknJDLB4xpKGpj1PP/SAv7O74f5lpXPmzZ5txeJNa6P3iIyJxT7zYSJiyWIoALETCDhdrdD8rlajsGXco5xICX63UAhTuHabXLnxwoijDWpYGK/ph4447oQ0tjXk4m55hILwIXSiHg44BCckuDfpCCqgISLAJTDVIIvFJSUzbafmzHpgz59+3/jgg/6tnUvqti6bM3v27LMtXRfXhgKUMbfYx0NZI0GWLCrNUUWBoQ2sFCVseF0UuI17yVjigMbwo/EmKM0YEZydw6LN45JBuaATmxyn+WKyL3YxeHZymQbWrsJFKriHppEuF1lcXb5w5hnvmbHgocamhvr6A02Nh/YceMxRON9iLILFv1PG3OK+57Ygz9GvPg3WLPrAHkUX2jSbG8AI1fDSCZ+luxcJGFvEYMReVUVNQkvjhrKi4QG1zbGQbr2J22+J6Ep0N3IsgV9lJVr8bXlx7vs3XbRgSf32Lpgtdu1+pafn2dKSgoLCEms96t0iY2Cxef9+tOgK/wwkfjlqFBeWLPa1grgWuBwGYDzpCgxxcTpcYraRHhw/808BNu79IpmW9Lemk+CmJn/msGM4K83h2u4ElJUrYIxa6SgpfqD+qoVX+xs7uo/1vNKx+9Welwouu6yg9MOWRjff4YyBxb6hIRrduGNf3PLZmOEF0pLFVhqqBIaGaBziNZkaKLVmF86AT3H3k0Znv0dpNqtPcapP/5wC8ZgDEdkEqNGd+GCKXvjkEA7RFlFCR6YDahAvJtGyc8UKiMU7ll1bfPWP6v0P3l/f+GLXq//84aZt/zpYXJCfX1BqwWJoLWzfgmvdWwYWtdGNb3jLsNGQ36JFmGmotwW8wRbR/gbApxtThbcPQrUuJ8xbIHLN6hsH4AkMi8eAuEp+HshAMTtJEIQk55OBMzEWPw8XxuK6p/1Aff2Ojt2NezoPHrj88oJ5BZZ6VB0GFve5gxthhKXEthjZAXc6uCgVzRvcPOsPwnBNpNJjalEJtGHERqM4H9lnGoqqj7gS+qsKXQnnKQvtrNsD4EVYlHA5vME2wP2vdcjjCrS4vLw8P/+0TXV1fn/Dtu0Pf7+p48Xtz5Q7CufNtxKLetJbVO+Gm1pEhtzVZlc6cQcuDFFjdgfOGs5QGwegqy2UwVC0Cj3bJy80jKUUgKMjMUzlAgZL1DK8GY53wxfl519w2pmL6+o2N2zv6gCJXQd/WVJaOH9+manFJLiYSLCoYcWie2jINLwUX38t3Q3vtzDPsICrJeqDIZDbF27B6JhyIBRp9pIwF6QsPfHA6aOuGMtFAlRCMOJ91Bvyz8qbeWZd0eJrNjdu7+zq6jrYvdVRUlhSbno33Ig0Fg07yvHgDsDkfF+ryeiTMO9RgapAKBYLBsyfTJ0IMBKrYdZPN2b4lgHdPODbNJCnezUCOoKnofEnU3Pz8nLfsfm+oqKizZubOl/u7n6p5rqSwvJb5VPiKQMs8oMSvnmH3vR5Fe12EB0CHiEYxVPij+WdfdZFfv+moosvLVrsbzhw4BfLHCWXO1ZKi1MEzDTw1myteKSFT0AYUaDeTddQ783SA2TsUqmWGxdccI2/of6+oosvvvDCS69ZVl7mcDg+Jf9iY8qAy2K1h6ThYyyhjSJRPBKBPK8wMikjJNLjRW00dmOxv75pW8Pm7xUV3ffzSkd5eeVSkCgtThXYoYpY9OFTZZKEaLGIBbjWJEKCJGKPqt0/XP5kfdOO7dsefvhXjz9bCYF4Kw57pMUpAQfFdF3E2EPQHw5p4pfAFPBjEpozinqQrz3TsQM8Pr7jycrKL+GfMQLS4tSAU36YZ2iPnrGvhBkGDHDUPBaIoamAB6g00Uic36696y8HduzYeucXsDMlpMWpgP7aH2caODskfQhMCtXpYypEHNKsH/8i1QhpcSzYapmlguqsErP+lE+GU6HezqEq+LulRlocC7VaRgET5APUoES9SErjfRvOJ1Itnka6YMZohLSYDUiL2YC0mA3YjibB/xyRRfgkydtCL72ASVq0Twr+SMmEQYnwtg0mcdRksYvnjJkglz9SMhGODlIc0so2iGsdtN9gyaBF++Br/KGS8QOe1A51bCyakVGLkkkgBBLS4vSFFQLS4vSFFQLS4vSFFR7dNWgbjOiW4RGTVySTFs/RPlcuE1lUibt2gcWR4fgyiAvYTLuOxC0eea/d/nxsp4+zekThyCN2uy92/Cf/pTICMkduU//x+Vz9V5LLOBZSFYFohIgEibtsJCiCb3hFhkfw/4YIp1kjmsWd14OdQ2EDi0/A+lA4vcVzuErJeBkGVRCLqBElgkVkBEtxQwnOJSOiNZcVqHLSWxz58QuYNopFrVa5jHMZhKYTV0ckxf9tk9qhWqzG4uF1YgvCsOdcR9Lwffxe+/W/JrUUrSDu39jzxg7b7bdgYMYt2uO1SiYAKwRUi6O8BUb1mTGoFtUY3OkbeQSST/jYIuaO3yt2HgZvkFkXO3xLGK3v9I2xKJkg4IgVArZIjJbRUVohqFFstTUfhMvYWDz+U9By5Lb/CYuU07rZnRR+2JHuxNvf6xJ71HitchnPIrzEWCFg4z2jo7RCYrCIrbbmg3BRr4tHPqNeFxMtkiTNImpli1SUYNEe1dUrF+uL8AKxGBmksWoEYpH90UqYA0QC1nyOOCwCTc8KYk9AbznyZxijco+KryPvgx71ee5RYWfs+HdVi4f5Iqm3iJVrNcvF6sJ2YmAQwKmHLYaFGH5ihUckJkRKHBaL96gQcHb7O1/AsIPxDIxucP74Cf8LuOHRDYxnYFjDFvFw+/OJFuFNH041S6yiehkc3Nvbu3dv795eG2apTKzoIC0hitSz4Gegi8XJk4u1qjXLt9W3WKIQUYN7GfzfwrAttRUL4wSXxxnNoEWqKql+iUWg3QYjEImaxXGRaYuSCZMYi+NCWjxpgFjkYJQWpy8RsCiQFqcvI8MsUVqcxgxPIhYzCFcpmRiREZgvTsyi5KRhcOI9quSkYRKjG8lJg7SYDURGWKK0OI2ZxBhVctIge9RsYERazAIicqaRBchYzAbk6CYbkLGYDcjrYjYgYzEbkNfFbEDGYjYgr4vZgIzFbEBeF7MBGYvZgLwuZgMyFrMBeV3MBmQsZgPqdbG39/8ii0pxOEwXjAAAAABJRU5ErkJggg=="},396:function(e,t,s){e.exports=s.p+"assets/img/2variations.01257f1c.png"},397:function(e,t,s){e.exports=s.p+"assets/img/CloudShell1.af6f63c1.png"},398:function(e,t,s){e.exports=s.p+"assets/img/CloudShell2.3a511722.png"},399:function(e,t,s){e.exports=s.p+"assets/img/CloudShell3.f33383c0.png"},400:function(e,t,s){e.exports=s.p+"assets/img/newvm.55b1f9c3.png"},401:function(e,t,s){e.exports=s.p+"assets/img/newvm2.3cc60e1f.png"},773:function(e,t,s){"use strict";s.r(t);var a=s(42),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"challenge-5-cloud-shell-coding-your-azure-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#challenge-5-cloud-shell-coding-your-azure-resources"}},[e._v("#")]),e._v(" Challenge 5: Cloud Shell: Coding Your Azure Resources")]),e._v(" "),a("h2",{attrs:{id:"here-is-what-you-will-learn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#here-is-what-you-will-learn"}},[e._v("#")]),e._v(" Here is what you will learn")]),e._v(" "),a("ul",[a("li",[e._v("Use the 'Cloud Shell' as "),a("em",[e._v("'launch point'")]),e._v(" for PowerShell | Bash scripts.")]),e._v(" "),a("li",[e._v("Use it to automate Azure resource creation and configuration.")])]),e._v(" "),a("h2",{attrs:{id:"benefits-of-the-azure-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#benefits-of-the-azure-cloud-shell"}},[e._v("#")]),e._v(" Benefits of the Azure Cloud Shell")]),e._v(" "),a("p",[e._v("Ok - quite impressive what the Azure portal as a single page application allows us to do, isn't it?"),a("br"),e._v("\nHowever sometimes a shell is faster and better for repetitive tasks. But you may not want to install software nor tools for this in your machine."),a("br"),e._v("\nThe Azure "),a("strong",[e._v("Cloud Shell is a shell | console hosted in your browser window")]),e._v(". Ready to "),a("strong",[e._v("execute commands to create, delete, modify Azure resources in your subscription")]),e._v("."),a("br"),e._v("\nWhile it is also possible to use PowerShell on your local PC to administer Azure. Using the Cloud Shell brings some advantages compared to using your PC as 'launch point'.")]),e._v(" "),a("p",[e._v("Using the "),a("strong",[e._v("Cloud Shell saves you time")]),e._v(" as...:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("no need to explicitly code the azure logon within the script")]),e._v(" - you are already authenticated to Azure via the browser ðŸ˜‰")]),e._v(" "),a("li",[a("strong",[e._v("nothing needs to be installed on your PC")]),e._v(" ("),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/powershell/azure",target:"_blank",rel:"noopener noreferrer"}},[e._v('no "which version of PowerShell? What modules?'),a("OutboundLink")],1),e._v(')"')])]),e._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[e._v("#")]),e._v(" Table Of Contents")]),e._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#Create-an-Azure-Cloud-Shell"}},[e._v("Create an Azure Cloud Shell (if you don't have one.)")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Playing-with-the-Cloud-Shell"}},[e._v("Playing with the Cloud Shell")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#PowerShell-Az-Modules-for-Azure"}},[e._v("PowerShell Az Modules for Azure")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Create-a-VM-with-PowerShell"}},[e._v("(optional) Create a VM with PowerShell")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Cleanup"}},[e._v("Cleanup")])])]),e._v(" "),a("h1",{attrs:{id:"create-an-azure-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-an-azure-cloud-shell"}},[e._v("#")]),e._v(" Create an Azure Cloud Shell")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[Azure Portal] -> Click the 'Cloud Shell' symbol close to your login details on the right upper corner.\n")])])]),a("p",[a("img",{attrs:{src:s(395),alt:"Cloud Shell"}}),e._v(")"),a("br"),e._v("\nThe "),a("strong",[e._v("'Cloud Shell' is an in-browser-accessible shell for managing Azure resources")]),e._v(". It already has the required SDKs and tools installed to interact with Azure. The "),a("strong",[e._v("Azure Cloud Shell comes in 2 flavors: bash or PowerShell")]),a("br"),e._v(" "),a("img",{attrs:{src:s(396),alt:"Bash or PowerShell"}})]),e._v(" "),a("p",[e._v("When being asked "),a("strong",[e._v("choose PowerShell this time")]),e._v("."),a("br"),e._v(" "),a("strong",[e._v("The first time you use the 'Cloud Shell' you will be asked to setup a storage account")]),e._v(" e.g. to store files you have uploaded persistently. "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/cloud-shell/persisting-shell-storage",target:"_blank",rel:"noopener noreferrer"}},[e._v("See"),a("OutboundLink")],1)]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[Azure Portal] -> Click 'Show advanced settings'\n")])])]),a("p",[a("img",{attrs:{src:s(397),alt:"Cloud Shell Storage Account Setup"}})]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Value")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Subscription")]),e._v(" "),a("td",[a("em",[e._v("your subscription")])])]),e._v(" "),a("tr",[a("td",[e._v("Cloud Shell Region")]),e._v(" "),a("td",[e._v("e.g. "),a("strong",[e._v("North Europe")])])]),e._v(" "),a("tr",[a("td",[e._v("Resource Group")]),e._v(" "),a("td",[e._v("e.g. "),a("strong",[e._v("rg-cloudshell")])])]),e._v(" "),a("tr",[a("td",[e._v("Storage Account")]),e._v(" "),a("td",[a("strong",[a("em",[e._v("some unique value")])])])]),e._v(" "),a("tr",[a("td",[e._v("File Share")]),e._v(" "),a("td",[a("strong",[e._v("cloudshell")])])])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[Azure Portal] -> Create storage\n")])])]),a("p",[e._v("Once successful your shell should appear at the bottom of the page:"),a("br"),e._v(" "),a("img",{attrs:{src:s(398),alt:"Cloud Shell in the Azure portal"}})]),e._v(" "),a("h1",{attrs:{id:"playing-with-the-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#playing-with-the-cloud-shell"}},[e._v("#")]),e._v(" Playing with the Cloud Shell")]),e._v(" "),a("p",[a("strong",[e._v("Execute your first commands")]),e._v(". Using 'PowerShell' as environment you can either call:"),a("br"),e._v(" "),a("strong",[e._v("Azure CLI code")]),e._v(" snippets, "),a("strong",[e._v("go execute")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("az account show\n")])])]),a("p",[e._v("or "),a("strong",[e._v("execute Azure PowerShell commands")]),e._v(", like:")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-AzSubscription")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Most Azure documentation offers script snippets shows both ways.")]),a("br"),e._v("\nMy 2cts:")]),e._v(" "),a("ul",[a("li",[e._v("az commands tend to be shorter")]),e._v(" "),a("li",[e._v("PowerShell (as .net based scripting language) gives you more flexibility when scripts get longer.")])]),e._v(" "),a("p",[a("strong",[e._v("Note that Azure uses PowerShell Core on a Linux OS for PowerShell: Execute...")])]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$psversiontable")]),e._v("\n")])])]),a("p",[e._v("should return something like:"),a("br"),e._v(" "),a("img",{attrs:{src:s(399),alt:"PowerShell Version output"}})]),e._v(" "),a("blockquote",[a("p",[e._v("Keep this in mind - especially when you copy and pasted non PowerShell Core scripts - as they may need 'treatment' before they can run ðŸ˜‰")])]),e._v(" "),a("p",[e._v("Let's query e.g. the available VM sizes in a specific region:")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-AzVMSize")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Location "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'west europe'")]),e._v("\n")])])]),a("p",[e._v("Output should be something like:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Name                   NumberOfCores MemoryInMB MaxDataDiskCount OSDiskSizeInMB ResourceDiskSizeInMB\n----                   ------------- ---------- ---------------- -------------- --------------------\nStandard_A0                        1        768                1        1047552                20480\nStandard_A1                        1       1792                2        1047552                71680\nStandard_A2                        2       3584                4        1047552               138240\nStandard_A3                        4       7168                8        1047552               291840\n.\n.\n.\n\n")])])]),a("p",[e._v("List your Azure resources by executing:")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-AzResource")]),e._v("\n")])])]),a("blockquote",[a("p",[e._v("Note:"),a("br"),e._v('\nOk. So there are PowerShell cmds (so-called cmdlets "'),a("em",[e._v("action")]),e._v("-"),a("em",[e._v("target")]),e._v("\") to administer azure. In Azure Cloud Shell they are 'pre'-installed for you. If you would want to run them from your PC you would need to install them ("),a("code",[e._v("install-module Az")]),e._v(") & update them ("),a("code",[e._v("update-module Az*")]),e._v(") on a regular basis. In PowerShell cmdlets are grouped into modules. If you want to find out which modules are installed - try "),a("code",[e._v("Get-Module az* -ListAvailable")]),e._v(". There is not a single Azure module. Instead the Azure services have their own modules - i.e. there is a module that hosts cmdlets for treating virtual machines, one for networking,...")])]),e._v(" "),a("h1",{attrs:{id:"powershell-az-modules-for-azure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#powershell-az-modules-for-azure"}},[e._v("#")]),e._v(" PowerShell Az Modules for Azure")]),e._v(" "),a("p",[e._v("To query the "),a("strong",[e._v("specific modules for Azure administration - go execute:")])]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-Module")]),e._v(" az"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("ListAvailable\n")])])]),a("p",[a("strong",[e._v("to list the pre-installed Az modules")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Directory: C:\\Program Files\\WindowsPowerShell\\Modules\n\n    Directory: /usr/local/share/powershell/Modules\n\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\n---------- -------    ---------- ----                                --------- ----------------\nScript     4.6.1                 Az                                  Core,Desk\nScript     1.9.3                 Az.Accounts                         Core,Desk {Disable-AzDataCollection, Disable-AzContextAutosave, Enable-AzDataCollection, Enable-AzConâ€¦\nScript     1.1.1                 Az.Advisor                          Core,Desk {Get-AzAdvisorRecommendation, Enable-AzAdvisorRecommendation, Disable-AzAdvisorRecommendatiâ€¦\nScript     1.2.0                 Az.Aks                              Core,Desk {Get-AzAksCluster, New-AzAksCluster, Remove-AzAksCluster, Import-AzAksCredentialâ€¦}\nScript     1.1.4                 Az.AnalysisServices                 Core,Desk {Resume-AzAnalysisServicesServer, Suspend-AzAnalysisServicesServer, Get-AzAnalysisServicesSâ€¦\nScript     2.1.0                 Az.ApiManagement                    Core,Desk {Add-AzApiManagementApiToGateway, Add-AzApiManagementApiToProduct, Add-AzApiManagementProduâ€¦\nScript     1.1.0                 Az.ApplicationInsights              Core,Desk {Get-AzApplicationInsights, New-AzApplicationInsights, Remove-AzApplicationInsights, Updateâ€¦\nScript     1.4.0                 Az.Automation                       Core,Desk {Get-AzAutomationHybridWorkerGroup, Remove-AzAutomationHybridWorkerGroup, Get-AzAutomationJâ€¦\nScript     3.1.0                 Az.Batch                            Core,Desk {Remove-AzBatchAccount, Get-AzBatchAccount, Get-AzBatchAccountKey, New-AzBatchAccountâ€¦}\nScript     1.0.3                 Az.Billing                          Core,Desk {Get-AzBillingInvoice, Get-AzBillingPeriod, Get-AzEnrollmentAccount, Get-AzConsumptionBudgeâ€¦\nScript     1.4.3                 Az.Cdn                              Core,Desk {Get-AzCdnProfile, Get-AzCdnProfileSsoUrl, New-AzCdnProfile, Remove-AzCdnProfileâ€¦}\n.\n.\n.\n")])])]),a("p",[a("strong",[e._v("To find out which module hosts which cmdlet")]),e._v(" (e.g. Get-AzVMSize) "),a("strong",[e._v("type")]),e._v(" something like:")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("get-command")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("vmsize"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("\n")])])]),a("p",[e._v("Result similar to:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("CommandType     Name                                               Version    Source\n-----------     ----                                               -------    ------\nAlias           Get-AzureRmVMSize\nCmdlet          Get-AzDtlAllowedVMSizesPolicy                      1.0.2      Az.DevTestLabs\nCmdlet          Get-AzVMSize                                       4.3.1      Az.Compute\nCmdlet          Set-AzDtlAllowedVMSizesPolicy                      1.0.2      Az.DevTestLabs\n")])])]),a("p",[e._v("To find out all commands hosted in the Az.Compute module type:")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-Command")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Module Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Compute\n")])])]),a("p",[e._v("delivers e.g.:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("CommandType     Name                                               Version    Source\n-----------     ----                                               -------    ------\n.\n.\n.\nCmdlet          New-AzSnapshotUpdateConfig                         4.3.1      Az.Compute\nCmdlet          New-AzVM                                           4.3.1      Az.Compute\nCmdlet          New-AzVMConfig                                     4.3.1      Az.Compute\nCmdlet          New-AzVMDataDisk                                   4.3.1      Az.Compute\nCmdlet          New-AzVMSqlServerAutoBackupConfig                  4.3.1      Az.Compute\nCmdlet          New-AzVMSqlServerAutoPatchingConfig                4.3.1      Az.Compute\nCmdlet          New-AzVMSqlServerKeyVaultCredentialConfig          4.3.1      Az.Compute\n.\n.\n.\n")])])]),a("p",[e._v("To learn more about a specific cmdlet. You can e.g. "),a("strong",[e._v("execute")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[e._v("help "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("New-AzVM")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("examples\n")])])]),a("h1",{attrs:{id:"optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional"}},[e._v("#")]),e._v(" (optional)")]),e._v(" "),a("h1",{attrs:{id:"create-a-vm-with-powershell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-vm-with-powershell"}},[e._v("#")]),e._v(" Create a VM with PowerShell")]),e._v(" "),a("p",[e._v("Now "),a("strong",[e._v("let's create a VM using PowerShell")]),e._v(". "),a("strong",[e._v("Execute")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[e._v("help "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("New-AzVM")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("online\n")])])]),a("p",[e._v("this "),a("strong",[e._v("should open a new browser tab with online help for New-AzVM")]),e._v(". Examine the explanation and look at the code samples.")]),e._v(" "),a("p",[e._v("Try "),a("strong",[e._v("creating a simple VM by executing")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$VMName")]),e._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'MyVM'")]),e._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# variable for easy reuse")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("New-AzVM")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Name "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$VMName")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Credential "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Get-Credential")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Location "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'North Europe'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Size "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Standard_A0'")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Enter a user name")]),e._v(" (not 'admin' nor 'administrator') "),a("strong",[e._v("and a complex password")]),e._v(" when asked.\n"),a("img",{attrs:{src:s(400),alt:"progress in azure cloud shell"}}),e._v("\nAfter a successful run you should have a VM in your subscription:"),a("br"),e._v(" "),a("img",{attrs:{src:s(401),alt:"MyVM in Azure Portal"}})]),e._v(" "),a("h1",{attrs:{id:"cleanup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cleanup"}},[e._v("#")]),e._v(" Cleanup")]),e._v(" "),a("p",[a("strong",[e._v("Cleanup")]),e._v(" e.g. "),a("strong",[e._v("by deleting")]),e._v(" the resource group with the vm "),a("strong",[e._v("using the portal or via executing")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("Remove-AzResourceGroup")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$VMName")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("Force "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("AsJob   "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# -AsJob will execute this operation in the background ")]),e._v("\n")])])]),a("blockquote",[a("p",[a("strong",[e._v("In case of an error")]),e._v(" try restarting the cloud shell as it times out.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);