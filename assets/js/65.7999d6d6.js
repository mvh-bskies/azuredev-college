(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{793:function(s,a,e){"use strict";e.r(a);var t=e(42),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"baseline-deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#baseline-deployment"}},[s._v("#")]),s._v(" Baseline Deployment")]),s._v(" "),e("p",[s._v("If you could not finish the challenges and/or breakout parts of "),e("em",[s._v("Day 2")]),s._v(", here is a script that will put you back on track and give you the opportunity to start right off with the content of "),e("em",[s._v("Day 3")]),s._v(".")]),s._v(" "),e("h2",{attrs:{id:"pre-requisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisites"}},[s._v("#")]),s._v(" Pre-Requisites")]),s._v(" "),e("p",[s._v("To run the deployment script, you will have to setup a few environment variables:")]),s._v(" "),e("h3",{attrs:{id:"bash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bash"}},[s._v("#")]),s._v(" bash")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_REGION_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("YourAzureRegion"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_RG_COMMON_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheResourceGroup"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_AI_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheAppInsightsComponent"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## both storage account names must be 15 characters or less and all LOWERCASE")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_STORAGEACCOUNT_FE_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheStorageAccountForFrontend"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_STORAGEACCOUNT_RES_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheStorageAccountForFunctionsAndImages"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_API_WEBAPP_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheContactsApiWebApp"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_RES_WEBAPP_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheResourcesApiWebApp"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASE_RES_FUNCAPP_NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("NameOfTheFunctionsApp"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),e("h3",{attrs:{id:"or-powershell"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#or-powershell"}},[s._v("#")]),s._v(" ...or PowerShell")]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_REGION_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<YourAzureRegion>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_RG_COMMON_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheResourceGroup>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_AI_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheAppInsightsComponent>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## both storage account names must be 15 characters or less and all LOWERCASE")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_STORAGEACCOUNT_FE_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheStorageAccountForFrontend>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_STORAGEACCOUNT_RES_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheStorageAccountForFunctionsAndImages>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_API_WEBAPP_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheContactsApiWebApp>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_RES_WEBAPP_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheResourcesApiWebApp>"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":BASE_RES_FUNCAPP_NAME="),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<NameOfTheFunctionsApp>"')]),s._v("\n")])])]),e("p",[s._v("If you want to use "),e("code",[s._v("bash")]),s._v(", make sure you have the "),e("code",[s._v("zip")]),s._v(" package installed:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("zip")]),s._v("\n")])])]),e("h2",{attrs:{id:"run-the-script"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#run-the-script"}},[s._v("#")]),s._v(" Run The Script")]),s._v(" "),e("p",[s._v("The script uses your local Azure CLI. So make sure you are logged in and have selected the correct subscription. You can check the current subscription by running:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("az account show\n")])])]),e("p",[s._v("If it isn't the correct one, follow these steps:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("az account list -o table\n")])])]),e("p",[s._v("It prints the available subscriptions for your account. Copy the subscription id of the one you want to work with and run...")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("az account "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -s "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("SUBSCRIPTION_ID"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),e("p",[s._v("If the desired subscription does not show up, re-login to Azure via "),e("code",[s._v("az login")]),s._v(".")]),s._v(" "),e("p",[s._v("If you are all set, run the script...")]),s._v(" "),e("h3",{attrs:{id:"bash-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bash-2"}},[s._v("#")]),s._v(" bash")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" day3/scripts/baseline\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute...")]),s._v("\n./deploy_baseline.sh\n")])])]),e("h3",{attrs:{id:"or-powershell-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#or-powershell-2"}},[s._v("#")]),s._v(" ...or PowerShell")]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("cd day3"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("scripts"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("baseline\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("deploy_baseline"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ps1\n")])])]),e("h2",{attrs:{id:"results"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#results"}},[s._v("#")]),s._v(" Results")]),s._v(" "),e("p",[s._v('To check, if everything works as expected, go to the Azure Portal an open the resource group you chose to deploy the resources to. Open the "Frontend Storage Account" and choose "Static website" from the settings pane. Copy the '),e("strong",[s._v("primary endpoint URL")]),s._v(" and open it in a browser. You should now see the SCM Contacts application as it should be running after "),e("em",[s._v("Day 2")]),s._v(" of the Azure Developer College.")])])}),[],!1,null,null,null);a.default=r.exports}}]);